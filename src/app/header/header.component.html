<header class="shadow-md px-[2%] bg-white fixed left-0 right-0 z-50">
    <div class="py-5 flex justify-between items-center gap-12">
        <a routerLink="/">
            <img class="w-44 object-cover cursor-pointer" src="../../assets/header/blogo.png" alt="logo">
        </a>
        <div class="flex items-center gap-10">
            <ng-container *ngFor="let item of menuItems">
                <div class="relative cursor-pointer">
                    <a [ngClass]="{ 'text-teal1': activeMenuItem === item.label && item.dropdown,
                        'text-dark-gray1': activeMenuItem !== item.label && item.dropdown}"
                        (click)="toggleBottomSection(item.dropdown, item.label)"
                        class="text-lg text-dark-gray1" [routerLink]="item.link">
                        {{ item.label }}
                        <i *ngIf="item.dropdown" 
                        class="fa-solid fa-chevron-down text-sm transition-transform duration-300 ease-[cubic-bezier(1,0.25,0.25,.8)]" 
                        [ngClass]="{
                          '-rotate-180 text-teal1': activeMenuItem === item.label && item.dropdown,
                          'rotate-135 text-dark-gray1': activeMenuItem !== item.label && item.dropdown
                        }"></i>
                    </a>

                    <div *ngIf="activeBottomSection === 'featured' && item.dropdown ==='featured'"
                        class="p-2 bg-light-gray rounded-br-lg rounded-bl-lg absolute left-1/2 transform -translate-x-1/2 top-[68px] z-20">
                        <div class="bg-white border border-1 border-light-gray1 p-6 text-xs text-nowrap rounded-lg">
                            <div *ngFor="let item of featuredProductItems">
                                <a class="inline-block my-1 text-dark-gray hover:text-light-teal font-medium cursor-pointer"
                                    routerLink="item.link">{{item.label}}</a>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="activeBottomSection === 'resources' && item.dropdown ==='resources'"
                        class="flex gap-2 bg-card-gray  absolute left-1/2 transform -translate-x-1/2 top-[68px] p-2 z-20 rounded-br-lg rounded-bl-lg">
                        <div class="bg-white border border-1 border-light-gray1 p-6 text-xs text-nowrap rounded-lg">
                            <div *ngFor="let item of resourceItems">
                                <a class="inline-block my-1 text-dark-gray2 hover:text-light-teal font-medium cursor-pointer"
                                    routerLink="item.link">{{item.label}}</a>
                            </div>
                        </div>
                        <div class="bg-dark-gray2 p-6 pb-0 rounded-lg">
                            <h3 class="text-light-gray1 text-sm font-medium text-nowrap mb-8">Featured Article</h3>
                            <div class="p-6 pb-0 bg-white rounded-tl-lg rounded-tr-lg">
                                <h3 class="text-2xl font-bold text-dark-blue text-nowrap mb-5">Interesting Blog Title that <br> Can Fit On Two Lines</h3>
                                <img class="object-cover" src="../../assets/header/resources.png" alt="img">
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>

        <div class="flex items-center gap-2">
            <div class="flex items-center gap-2 rounded-lg border-light-gray border-solid border-2 px-3 py-2 bg-white">
                  <img src="../../assets/header/search.svg" alt="search-icon">
                <input class="outline-none w-32" type="text" placeholder="Search">
            </div>
            <app-cbutton class="border border-1 border-teal1 rounded-lg" heading="Contact us" icon="../../assets/header/r-arrow.svg" [size]="'medium'"></app-cbutton>
        </div>
    </div>

    <div *ngIf="activeBottomSection" class="absolute left-1/2 transform -translate-x-1/2 pb-1 z-20 w-[90%]">
        <ng-container *ngIf="activeBottomSection === 'service'">
            <div class="p-2 bg-card-gray rounded-br-lg rounded-bl-lg">
                <div class="flex gap-2">
                    <div class="w-2/3 rounded-lg bg-white border border-1 border-light-gray1">
                        <app-header-section class="" [sections]="serviceSections"></app-header-section>
                    </div>
                    <div class="w-1/3 p-6 rounded-lg bg-dark-gray2">
                        <h3 class="text-xs font-semibold mb-4 text-light-gray1">Industries</h3>
                        <div class="flex items-center flex-wrap gap-1 space-y-1 mb-12">
                            <div *ngFor="let item of industryItems">
                                <a class="text-white bg-dark-gray1 p-2 rounded-lg text-sm" routerLink="item.link">{{item.label}}</a>
                            </div>
                        </div>
                        <h3 class="text-xs font-semibold mb-4 text-light-gray1 text-nowrap">Featured Blog</h3>
                        <div class="bg-white p-5 pb-1 rounded-lg">
                            <h2 class="text-2xl font-bold text-dark-gray2 mb-6">Interesting Blog Title that <br> can Fit On Two Lines</h2>
                            <img class="object-contain w-full" src="../../assets/header/featured-blog.png" alt="blog-img">
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</header>

<div *ngIf="activeBottomSection" (onclick)="closeMenu()" class=" fixed h-full w-full z-10  bg-[#00000040]"></div>



<!--For Mobile -->

<header class="hidden shadow-sm px-[3%] overflow-hidden">
    <div class="py-5 flex justify-between items-center">
        <a routerLink="/">
            <img class="w-32 object-cover cursor-pointer" src="../../assets/header/blogo.png" alt="logo">
        </a>
        <div class="text-2xl cursor-pointer" (click)="toggleMenu()">
            <i [ngClass]="isMenuOpen? 'fa-solid fa-xmark': 'fa-solid fa-bars'"></i>
        </div>
    </div>
    <app-accordion *ngIf="isAccordionOpen"></app-accordion>
</header>